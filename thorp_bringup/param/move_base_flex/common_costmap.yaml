# Import footprint from product configuration
#"": !include:move_base_flex/footprint.yaml

inflation_layer:
  inflation_radius: 1.0
  cost_scaling_factor: 10.0

obstacle_layer:
  track_unknown_space: true
  max_obstacle_height: 2.0
  obstacle_range: 2.5
  raytrace_range: 3.0
  resolution: 0.010

  # Just one voxel so both laser and picoflexx can clear each other (making cleaner costmaps)
  origin_z: 0.0
  z_voxels: 1
  z_resolution: 0.2
  unknown_threshold: 6
  mark_threshold: 0

  observation_sources:
    pico_flexx_front
    pico_flexx_rear
    scan_front
    scan_rear
  scan_front:
    data_type: LaserScan
    topic: /scan_front
    marking: true
    clearing: true
    obstacle_range: 4.5
    raytrace_range: 5.0
    min_obstacle_height: 0.1
    max_obstacle_height: 0.2

  scan_rear:
    data_type: LaserScan
    topic: /scan_rear
    marking: true
    clearing: true
    obstacle_range: 4.5
    raytrace_range: 5.0
    min_obstacle_height: 0.1
    max_obstacle_height: 0.2

  pico_flexx_front:
    data_type: LaserScan
    topic: /pico_flexx_front/scan
    marking: true
    clearing: true
    obstacle_range: 3.0
    raytrace_range: 3.5
    min_obstacle_height: 0.0
    max_obstacle_height: 2.0

  pico_flexx_rear:
    data_type: LaserScan
    topic: /pico_flexx_rear/scan
    marking: true
    clearing: true
    obstacle_range: 3.0
    raytrace_range: 3.5
    min_obstacle_height: 0.0
    max_obstacle_height: 0.1

tof_sensors_layer:
  input_sensor_type:    VARIABLE
  ranges_buffer_size:   1
  clear_threshold:      0.46
  mark_threshold:       0.66
  no_readings_timeout:  2.0
  clear_on_max_reading: true
  ns:     /
  topics: [range_front_left, range_front_left_45, range_middle_front_left, range_middle_left, range_rear_left_45, range_rear_left,
           range_front_right, range_front_right_45, range_middle_front_right, range_middle_right, range_rear_right_45, range_rear_right]
  enabled: true

static_layer:
  enabled: true
