#--- !extends:move_base_flex/common_costmap.yaml
global_frame: map
robot_base_frame: base_footprint
update_frequency: 1.0
publish_frequency: 1.0
transform_tolerance: 0.5
track_unknown_space: true
static_map: true
rolling_window: false
resolution: 0.05
plugins:
- {name: obstacle_layer,   type: "costmap_2d::VoxelLayer"}
#- {name: semantic_layer,   type: "toru_navigation_layers::SemanticLayer"}
- {name: static_map_layer, type: "costmap_2d::StaticLayer"}
- {name: inflation_layer,  type: "costmap_2d::InflationLayer"}

static_map_layer:
  map_topic: map
  use_maximum: true

semantic_layer:
  enabled: true
  db_read_rate: 2.0
  db_table: laserscan_obstacles
  viz_updated_bounds: false
  positive_obstacles:     # objects marked as lethal in the costmap
    types: ["segment", "global_virtual_obstacle"]
  negative_obstacles:     # objects marked as free space in the costmap
    types: ["corridor"]
    width_padding: -0.02
    length_padding: 0.25  # this forces us to put static layer after, so we don't clear walls closing corridors!
